(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){e.exports=a(274)},273:function(e,t,a){},274:function(e,t,a){"use strict";a.r(t);var r,n=a(0),o=a.n(n),c=a(12),l=a.n(c),i=a(4),s=a(5),m={setChaos:Object(s.createAction)("@chaos/SET",function(e){return function(t){return e(t)}})},b=Object(i.b)(null,m)(function(e){var t="list-group-item list-group-item-action flex-grow-1 text-center\n    chaos-".concat(e.number," ").concat(e.selected&&"list-group-item-secondary");return o.a.createElement("button",{className:t,onClick:function(){return e.setChaos(e.number)}},e.number)}),u=Object(i.b)(function(e){return{chaos:e.chaos}})(function(e){var t=Array.from({length:9}).map(function(t,a){return o.a.createElement(b,{number:a+1,selected:e.chaos===a+1,key:a+1})});return o.a.createElement("ul",{className:"list-group list-group-horizontal w-100 chaos-scale"},o.a.createElement("li",{className:"list-group-item flex-grow-1"},"CF"),t)}),d=a(9),p=a(1),h=a(38),P=a.n(h),f=a(3),E=a.n(f),y=a(22),g=Object(s.createAction)("@characters/ADD",function(e){return function(t){return e(t)}}),N=Object(s.createAction)("@characters/REMOVE",function(e){return function(t){return e(t)}}),L=Object(s.createAction)("@characters/EDIT",function(e){return function(t,a){return e({id:t,data:a})}}),v=(Object(s.createAction)("@characters/CLEAR"),Object(s.createAction)("@characters/SELECT",function(e){return function(t){return e(t)}})),U={addCharacter:g},k=Object(i.b)(null,U)(function(e){return o.a.createElement(E.a,{onHide:e.onHide,show:e.show},o.a.createElement(p.c,{onSubmit:function(t){e.addCharacter({description:"",id:Object(y.generate)(),isNPC:t.isNPC,name:t.name}),e.onHide&&e.onHide()},initialValues:{isNPC:!1,name:""}},o.a.createElement(p.b,null,o.a.createElement(E.a.Header,{closeButton:!0},o.a.createElement(E.a.Title,{as:"h5"},"Add a new character")),o.a.createElement(E.a.Body,null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"ac-name"},"Name"),o.a.createElement(p.a,{type:"text",name:"name",id:"ac-name",className:"form-control",required:!0})),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement(p.a,{name:"isNPC",type:"checkbox",id:"ac-npc",className:"form-check-input"}),o.a.createElement("label",{className:"form-check-label",htmlFor:"ac-npc"},"Is NPC?"))),o.a.createElement(E.a.Footer,null,o.a.createElement(P.a,{type:"submit"},"Add character")))))}),O=function(e){return o.a.createElement("button",{className:"list-group-item list-group-item-action py-2 border-bottom rounded-0  d-flex align-items-center justify-content-between",onClick:function(){return e.viewCharacter(e.character.id)}},o.a.createElement("span",{className:"font-weight-bold"},e.character.name),e.character.isNPC&&o.a.createElement("span",{className:"badge badge-secondary"},"NPC"))},j={editCharacter:L},w=Object(i.b)(null,j)(function(e){var t=e.character;return o.a.createElement(E.a,{onHide:e.onHide,show:e.show,backdrop:"static",keyboard:!1},o.a.createElement(p.c,{onSubmit:function(t){e.editCharacter(t.id,t),e.viewCharacter(t.id)},initialValues:t},o.a.createElement(p.b,null,o.a.createElement(E.a.Header,null,o.a.createElement(E.a.Title,{as:"h5",className:"d-flex align-items-center"},"Editing: ",e.character.name,e.character.isNPC&&o.a.createElement("span",{className:"badge badge-secondary ml-2"},"NPC"))),o.a.createElement(E.a.Body,null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"ec-name"},"Name"),o.a.createElement(p.a,{type:"text",name:"name",id:"ec-name",className:"form-control",required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"ec-description"},"Description"),o.a.createElement(p.a,{name:"description",id:"ec-description",className:"form-control",required:!0,rows:"4",component:"textarea"})),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement(p.a,{name:"isNPC",type:"checkbox",id:"ec-npc",className:"form-check-input"}),o.a.createElement("label",{className:"form-check-label",htmlFor:"ec-npc"},"Is NPC?"))),o.a.createElement(E.a.Footer,null,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.viewCharacter(e.character.id)}},"Cancel"),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save changes")))))}),S={removeCharacter:N},T=Object(i.b)(null,S)(function(e){return o.a.createElement(E.a,{onHide:e.onHide,show:e.show},o.a.createElement(E.a.Header,{closeButton:!0},o.a.createElement(E.a.Title,{as:"h5",className:"d-flex align-items-center"},"Character: ",e.character.name,e.character.isNPC&&o.a.createElement("span",{className:"badge badge-secondary ml-2"},"NPC"))),o.a.createElement(E.a.Body,{className:"py-4"},e.character.description),o.a.createElement(E.a.Footer,null,o.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.removeCharacter(e.character.id),e.onHide&&e.onHide()}},"Delete"),o.a.createElement("button",{className:"btn btn-secondary",onClick:function(){e.editCharacter(e.character.id)}},"Edit")))}),C={editCharacter:L,selectCharacter:v},x=Object(i.b)(function(e){return{characters:e.characters.characters,selectedCharacter:e.characters.selectedCharacter}},C)(function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!1),i=Object(d.a)(l,2),s=i[0],m=i[1],b=function(t){e.selectCharacter(t),m(!1),c(!0)},u=e.characters.map(function(e){return o.a.createElement(O,{key:e.id,character:e,viewCharacter:b})});return o.a.createElement(o.a.Fragment,null,e.selectedCharacter&&o.a.createElement(o.a.Fragment,null,o.a.createElement(T,{character:e.selectedCharacter,onHide:function(){return c(!1)},show:r,editCharacter:function(t){e.selectCharacter(t),c(!1),m(!0)}}),o.a.createElement(w,{character:e.selectedCharacter,show:s,viewCharacter:b})),o.a.createElement("ul",{className:"list-group list-group-flush"},u))}),F=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1];return o.a.createElement("section",{className:"card h-100"},o.a.createElement(k,{show:a,onHide:function(){return r(!1)}}),o.a.createElement("header",{className:"card-header font-weight-bold d-flex align-items-center justify-content-between"},"Characters",o.a.createElement("a",{href:"#",className:"fas fa-plus text-decoration-none",onClick:function(){return r(!0)}})),o.a.createElement(x,null))},A=a(7);!function(e){e[e.Message=0]="Message",e[e.NamedMessage=1]="NamedMessage",e[e.FateResult=2]="FateResult",e[e.DiceResult=3]="DiceResult",e[e.Divider=4]="Divider"}(r||(r={}));var H,I=Object(s.createAction)("@log/POST",function(e){return function(t){return e(t)}}),V=Object(s.createAction)("@log/DELETE",function(e){return function(t){return e(t)}}),D=Object(s.createAction)("@log/CLEAR"),R=Object(s.createAction)("@log/INPUT_MODE",function(e){return function(t){return e(t)}}),M=Object(s.createAction)("@log/EDIT",function(e){return function(t,a){return e({id:t,item:a})}}),B={editLog:M},W=Object(i.b)(null,B)(function(e){var t={description:e.item.description},a=Object(n.useState)(!1),r=Object(d.a)(a,2),c=r[0],l=r[1];return o.a.createElement("li",{className:"list-group-item py-2 list-group-item-primary"},o.a.createElement("span",{className:"d-flex"},o.a.createElement("strong",{className:"mr-1"},"Roll:"),o.a.createElement("i",null,e.item.diceString)),o.a.createElement("span",{className:"d-flex"},o.a.createElement("strong",{className:"mr-1"},"Result:"),e.item.roll),e.item.description&&!c&&o.a.createElement("i",null,e.item.description),!e.item.description&&!c&&o.a.createElement("a",{href:"#",onClick:function(){return l(!0)}},"Click to edit roll description"),c&&o.a.createElement(p.c,{onSubmit:function(t){l(!1),e.editLog(e.item.id,Object(A.a)({},e.item,{description:t.description}))},initialValues:t},o.a.createElement(p.b,null,o.a.createElement(p.a,{className:"form-control form-control-sm",name:"description",placeholder:"Enter description"}))))});!function(e){e[e.Impossible=0]="Impossible",e[e.NoWay=1]="NoWay",e[e.VeryUnlikely=2]="VeryUnlikely",e[e.Unlikely=3]="Unlikely",e[e.FiftyFifty=4]="FiftyFifty",e[e.SomewhatLikely=5]="SomewhatLikely",e[e.Likely=6]="Likely",e[e.VeryLikely=7]="VeryLikely",e[e.NearSureThing=8]="NearSureThing",e[e.ASureThing=9]="ASureThing",e[e.HasToBe=10]="HasToBe"}(H||(H={}));var q=new Map;q.set("".concat(H.HasToBe,"-1"),{UpProb:16,Prob:80,LoProb:97}),q.set("".concat(H.HasToBe,"-2"),{UpProb:16,Prob:85,LoProb:97}),q.set("".concat(H.HasToBe,"-3"),{UpProb:18,Prob:90,LoProb:99}),q.set("".concat(H.HasToBe,"-4"),{UpProb:19,Prob:95,LoProb:100}),q.set("".concat(H.HasToBe,"-5"),{UpProb:19,Prob:95,LoProb:100}),q.set("".concat(H.HasToBe,"-6"),{UpProb:20,Prob:100,LoProb:0}),q.set("".concat(H.HasToBe,"-7"),{UpProb:20,Prob:100,LoProb:0}),q.set("".concat(H.HasToBe,"-8"),{UpProb:26,Prob:130,LoProb:0}),q.set("".concat(H.HasToBe,"-9"),{UpProb:26,Prob:145,LoProb:0}),q.set("".concat(H.ASureThing,"-1"),{UpProb:11,Prob:55,LoProb:92}),q.set("".concat(H.ASureThing,"-2"),{UpProb:13,Prob:65,LoProb:94}),q.set("".concat(H.ASureThing,"-3"),{UpProb:16,Prob:80,LoProb:97}),q.set("".concat(H.ASureThing,"-4"),{UpProb:16,Prob:85,LoProb:97}),q.set("".concat(H.ASureThing,"-5"),{UpProb:18,Prob:90,LoProb:99}),q.set("".concat(H.ASureThing,"-6"),{UpProb:19,Prob:95,LoProb:100}),q.set("".concat(H.ASureThing,"-7"),{UpProb:19,Prob:95,LoProb:100}),q.set("".concat(H.ASureThing,"-8"),{UpProb:22,Prob:110,LoProb:0}),q.set("".concat(H.ASureThing,"-9"),{UpProb:25,Prob:125,LoProb:0}),q.set("".concat(H.NearSureThing,"-1"),{UpProb:10,Prob:50,LoProb:91}),q.set("".concat(H.NearSureThing,"-2"),{UpProb:11,Prob:55,LoProb:92}),q.set("".concat(H.NearSureThing,"-3"),{UpProb:15,Prob:75,LoProb:96}),q.set("".concat(H.NearSureThing,"-4"),{UpProb:16,Prob:80,LoProb:97}),q.set("".concat(H.NearSureThing,"-5"),{UpProb:18,Prob:90,LoProb:99}),q.set("".concat(H.NearSureThing,"-6"),{UpProb:19,Prob:95,LoProb:100}),q.set("".concat(H.NearSureThing,"-7"),{UpProb:19,Prob:95,LoProb:100}),q.set("".concat(H.NearSureThing,"-8"),{UpProb:20,Prob:100,LoProb:0}),q.set("".concat(H.NearSureThing,"-9"),{UpProb:23,Prob:115,LoProb:0}),q.set("".concat(H.VeryLikely,"-1"),{UpProb:9,Prob:45,LoProb:90}),q.set("".concat(H.VeryLikely,"-2"),{UpProb:10,Prob:50,LoProb:91}),q.set("".concat(H.VeryLikely,"-3"),{UpProb:13,Prob:65,LoProb:94}),q.set("".concat(H.VeryLikely,"-4"),{UpProb:15,Prob:75,LoProb:96}),q.set("".concat(H.VeryLikely,"-5"),{UpProb:16,Prob:85,LoProb:97}),q.set("".concat(H.VeryLikely,"-6"),{UpProb:18,Prob:90,LoProb:99}),q.set("".concat(H.VeryLikely,"-7"),{UpProb:19,Prob:95,LoProb:100}),q.set("".concat(H.VeryLikely,"-8"),{UpProb:19,Prob:95,LoProb:100}),q.set("".concat(H.VeryLikely,"-9"),{UpProb:21,Prob:105,LoProb:0}),q.set("".concat(H.Likely,"-1"),{UpProb:5,Prob:25,LoProb:86}),q.set("".concat(H.Likely,"-2"),{UpProb:7,Prob:35,LoProb:88}),q.set("".concat(H.Likely,"-3"),{UpProb:10,Prob:50,LoProb:91}),q.set("".concat(H.Likely,"-4"),{UpProb:11,Prob:55,LoProb:92}),q.set("".concat(H.Likely,"-5"),{UpProb:15,Prob:75,LoProb:96}),q.set("".concat(H.Likely,"-6"),{UpProb:16,Prob:85,LoProb:97}),q.set("".concat(H.Likely,"-7"),{UpProb:18,Prob:90,LoProb:99}),q.set("".concat(H.Likely,"-8"),{UpProb:19,Prob:95,LoProb:100}),q.set("".concat(H.Likely,"-9"),{UpProb:200,Prob:100,LoProb:0}),q.set("".concat(H.SomewhatLikely,"-1"),{UpProb:4,Prob:20,LoProb:85}),q.set("".concat(H.SomewhatLikely,"-2"),{UpProb:5,Prob:25,LoProb:86}),q.set("".concat(H.SomewhatLikely,"-3"),{UpProb:9,Prob:45,LoProb:90}),q.set("".concat(H.SomewhatLikely,"-4"),{UpProb:10,Prob:50,LoProb:91}),q.set("".concat(H.SomewhatLikely,"-5"),{UpProb:13,Prob:65,LoProb:94}),q.set("".concat(H.SomewhatLikely,"-6"),{UpProb:16,Prob:80,LoProb:97}),q.set("".concat(H.SomewhatLikely,"-7"),{UpProb:16,Prob:85,LoProb:97}),q.set("".concat(H.SomewhatLikely,"-8"),{UpProb:18,Prob:90,LoProb:99}),q.set("".concat(H.SomewhatLikely,"-9"),{UpProb:19,Prob:95,LoProb:100}),q.set("".concat(H.FiftyFifty,"-1"),{UpProb:2,Prob:10,LoProb:83}),q.set("".concat(H.FiftyFifty,"-2"),{UpProb:3,Prob:15,LoProb:84}),q.set("".concat(H.FiftyFifty,"-3"),{UpProb:5,Prob:25,LoProb:86}),q.set("".concat(H.FiftyFifty,"-4"),{UpProb:7,Prob:35,LoProb:88}),q.set("".concat(H.FiftyFifty,"-5"),{UpProb:10,Prob:50,LoProb:91}),q.set("".concat(H.FiftyFifty,"-6"),{UpProb:13,Prob:65,LoProb:94}),q.set("".concat(H.FiftyFifty,"-7"),{UpProb:15,Prob:75,LoProb:96}),q.set("".concat(H.FiftyFifty,"-8"),{UpProb:16,Prob:85,LoProb:97}),q.set("".concat(H.FiftyFifty,"-9"),{UpProb:19,Prob:95,LoProb:100}),q.set("".concat(H.Unlikely,"-1"),{UpProb:1,Prob:5,LoProb:82}),q.set("".concat(H.Unlikely,"-2"),{UpProb:2,Prob:10,LoProb:83}),q.set("".concat(H.Unlikely,"-3"),{UpProb:3,Prob:15,LoProb:84}),q.set("".concat(H.Unlikely,"-4"),{UpProb:4,Prob:20,LoProb:85}),q.set("".concat(H.Unlikely,"-5"),{UpProb:7,Prob:35,LoProb:88}),q.set("".concat(H.Unlikely,"-6"),{UpProb:10,Prob:50,LoProb:91}),q.set("".concat(H.Unlikely,"-7"),{UpProb:11,Prob:55,LoProb:92}),q.set("".concat(H.Unlikely,"-8"),{UpProb:15,Prob:75,LoProb:96}),q.set("".concat(H.Unlikely,"-9"),{UpProb:18,Prob:90,LoProb:99}),q.set("".concat(H.VeryUnlikely,"-1"),{UpProb:1,Prob:5,LoProb:82}),q.set("".concat(H.VeryUnlikely,"-2"),{UpProb:1,Prob:5,LoProb:82}),q.set("".concat(H.VeryUnlikely,"-3"),{UpProb:2,Prob:10,LoProb:83}),q.set("".concat(H.VeryUnlikely,"-4"),{UpProb:3,Prob:15,LoProb:84}),q.set("".concat(H.VeryUnlikely,"-5"),{UpProb:5,Prob:25,LoProb:86}),q.set("".concat(H.VeryUnlikely,"-6"),{UpProb:9,Prob:45,LoProb:90}),q.set("".concat(H.VeryUnlikely,"-7"),{UpProb:10,Prob:50,LoProb:91}),q.set("".concat(H.VeryUnlikely,"-8"),{UpProb:13,Prob:65,LoProb:94}),q.set("".concat(H.VeryUnlikely,"-9"),{UpProb:16,Prob:85,LoProb:97}),q.set("".concat(H.NoWay,"-1"),{UpProb:0,Prob:0,LoProb:83}),q.set("".concat(H.NoWay,"-2"),{UpProb:1,Prob:5,LoProb:82}),q.set("".concat(H.NoWay,"-3"),{UpProb:1,Prob:5,LoProb:82}),q.set("".concat(H.NoWay,"-4"),{UpProb:2,Prob:10,LoProb:83}),q.set("".concat(H.NoWay,"-5"),{UpProb:3,Prob:15,LoProb:84}),q.set("".concat(H.NoWay,"-6"),{UpProb:5,Prob:25,LoProb:86}),q.set("".concat(H.NoWay,"-7"),{UpProb:7,Prob:35,LoProb:88}),q.set("".concat(H.NoWay,"-8"),{UpProb:10,Prob:50,LoProb:91}),q.set("".concat(H.NoWay,"-9"),{UpProb:15,Prob:75,LoProb:96}),q.set("".concat(H.Impossible,"-1"),{UpProb:0,Prob:-20,LoProb:77}),q.set("".concat(H.Impossible,"-2"),{UpProb:0,Prob:0,LoProb:81}),q.set("".concat(H.Impossible,"-3"),{UpProb:0,Prob:0,LoProb:81}),q.set("".concat(H.Impossible,"-4"),{UpProb:1,Prob:5,LoProb:82}),q.set("".concat(H.Impossible,"-5"),{UpProb:1,Prob:5,LoProb:82}),q.set("".concat(H.Impossible,"-6"),{UpProb:2,Prob:10,LoProb:83}),q.set("".concat(H.Impossible,"-7"),{UpProb:3,Prob:15,LoProb:84}),q.set("".concat(H.Impossible,"-8"),{UpProb:5,Prob:25,LoProb:86}),q.set("".concat(H.Impossible,"-9"),{UpProb:10,Prob:50,LoProb:91});var J={editLog:M},_=Object(i.b)(null,J)(function(e){var t={exceptional:e.item.exceptionalContent},a=Object(n.useState)(!1),r=Object(d.a)(a,2),c=r[0],l=r[1];return o.a.createElement("li",{className:"list-group-item py-2 list-group-item-primary"},o.a.createElement("span",{className:"d-flex"},o.a.createElement("strong",{className:"mr-1"},"Question:"),o.a.createElement("i",null,e.item.question)),o.a.createElement("span",{className:"d-flex"},o.a.createElement("strong",{className:"mr-1"},"Answer:"),e.item.exceptional&&"EXCEPTIONAL ",e.item.answer?"Yes.":"No."),e.item.exceptional&&e.item.exceptionalContent&&!c&&o.a.createElement("i",null,e.item.exceptionalContent),e.item.exceptional&&!e.item.exceptionalContent&&!c&&o.a.createElement("a",{href:"#",onClick:function(){return l(!0)}},"Click to edit exceptional result description"),e.item.exceptional&&c&&o.a.createElement(p.c,{onSubmit:function(t){l(!1),e.editLog(e.item.id,Object(A.a)({},e.item,{exceptionalContent:t.exceptional}))},initialValues:t},o.a.createElement(p.b,null,o.a.createElement(p.a,{className:"form-control form-control-sm",name:"exceptional",placeholder:"Enter exceptional result message"}))),o.a.createElement("small",{className:"d-flex justify-content-between mt-1"},o.a.createElement("span",null,"Rolled ",e.item.roll),o.a.createElement("span",null,"Chaos factor was ",e.item.chaosFactor),o.a.createElement("span",null,"Probabilities were (",e.item.probability.UpProb,"\u2013",e.item.probability.Prob,"\u2013",e.item.probability.LoProb,")"),o.a.createElement("span",null,"Odds were ",H[e.item.odds])))}),z=function(e){return o.a.createElement("li",{className:"list-group-item py-2 font-italic text-muted"},e.item.content)},K=a(117),Q=a.n(K),X=function(e){return o.a.createElement("li",{className:"list-group-item py-2",key:e.item.id},o.a.createElement("span",{className:"w-100 d-flex"},o.a.createElement("strong",{className:"mr-1"},e.item.name,e.item.action?"":":"),o.a.createElement("div",{className:"mb-0 text-break md ".concat(e.item.action?"md-action":"")},o.a.createElement(Q.a,{source:e.item.content}))))},Y=Object(i.b)(function(e){return{items:e.log.items}})(function(e){var t=Object(n.useRef)(null);Object(n.useEffect)(function(){var e=t.current;e&&e.lastChild&&e.lastChild.scrollIntoView(!1)});var a=e.items.map(function(e){switch(e.type){case r.Message:return o.a.createElement(z,{item:e,key:e.id});case r.NamedMessage:return o.a.createElement(X,{item:e,key:e.id});case r.FateResult:return o.a.createElement(_,{item:e,key:e.id});case r.DiceResult:return o.a.createElement(W,{item:e,key:e.id})}});return o.a.createElement("ul",{className:"list-group list-group-flush h-100 overflow-auto log",ref:t},a)}),$=a(28),G=a.n($),Z={postLog:I,setInputMode:R},ee=Object(i.b)(function(e){return{characters:e.characters.characters,inputMode:e.log.inputMode}},Z)(function(e){var t=Object(n.useRef)(),a=function(){return"character"===e.inputMode.type&&e.inputMode.characterId?e.characters.find(function(t){return t.id===e.inputMode.characterId}):void 0},c=e.characters.map(function(e){return o.a.createElement(G.a.Item,{className:"d-flex align-items-center",key:e.id,eventKey:JSON.stringify(e)},o.a.createElement("i",{className:"fas fa-user mr-2"}),e.name)});return o.a.createElement("div",{className:"card-footer"},o.a.createElement(p.c,{initialValues:{content:""},onSubmit:function(t,n){var o;n.resetForm();var c={id:Object(y.generate)(),sent_at:Date.now()},l=a();o=l?Object(A.a)({},c,{action:t.content.startsWith("*"),content:t.content,name:l.name,type:r.NamedMessage}):Object(A.a)({},c,{content:t.content,type:r.Message}),e.postLog(o)}},o.a.createElement(p.b,null,o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement(G.a,{onSelect:function(a){if("narration"===a)e.setInputMode({type:"narration",characterId:""});else{var r=JSON.parse(a);e.setInputMode({type:"character",characterId:r.id})}t.current&&t.current.focus()}},o.a.createElement(G.a.Toggle,{id:"log-character",size:"sm",variant:"secondary"},function(){var e=a();return e?o.a.createElement("strong",null,e.name):"Narration"}()),o.a.createElement(G.a.Menu,null,o.a.createElement(G.a.Item,{className:"d-flex  align-items-center font-weight-bold",eventKey:"narration"},o.a.createElement("i",{className:"fas fa-feather mr-2"}),"Narration"),o.a.createElement(G.a.Divider,{className:"my-1"}),c))),o.a.createElement(p.a,{type:"text",name:"content",placeholder:"Type something to add to the log\u2026",className:"form-control form-control-sm",innerRef:t}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{type:"submit",className:"btn btn-sm btn-primary"},"Post"))))))}),te=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2);t[0],t[1];return o.a.createElement("section",{className:"card h-100"},o.a.createElement("header",{className:"card-header font-weight-bold"},"Log"),o.a.createElement(Y,null),o.a.createElement(ee,null))},ae=Object(s.createAction)("@threads/ADD",function(e){return function(t){return e(t)}}),re=Object(s.createAction)("@threads/REMOVE",function(e){return function(t){return e(t)}}),ne=Object(s.createAction)("@threads/EDIT",function(e){return function(t,a){return e({id:t,data:a})}}),oe=(Object(s.createAction)("@threads/CLEAR"),Object(s.createAction)("@threads/SELECT",function(e){return function(t){return e(t)}})),ce={addThread:ae},le=Object(i.b)(null,ce)(function(e){return o.a.createElement(E.a,{onHide:e.onHide,show:e.show},o.a.createElement(p.c,{onSubmit:function(t){e.addThread({description:"",id:Object(y.generate)(),name:t.name}),e.onHide&&e.onHide()},initialValues:{description:"",name:""}},o.a.createElement(p.b,null,o.a.createElement(E.a.Header,{closeButton:!0},o.a.createElement(E.a.Title,{as:"h5"},"Add a new thread")),o.a.createElement(E.a.Body,null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"ac-name"},"Name"),o.a.createElement(p.a,{type:"text",name:"name",id:"ac-name",className:"form-control",required:!0}))),o.a.createElement(E.a.Footer,null,o.a.createElement(P.a,{type:"submit"},"Add thread")))))}),ie={editThread:ne},se=Object(i.b)(null,ie)(function(e){var t=e.thread;return o.a.createElement(E.a,{onHide:e.onHide,show:e.show,backdrop:"static",keyboard:!1},o.a.createElement(p.c,{onSubmit:function(t){e.editThread(t.id,t),e.viewThread(t.id)},initialValues:t},o.a.createElement(p.b,null,o.a.createElement(E.a.Header,null,o.a.createElement(E.a.Title,{as:"h5",className:"d-flex align-items-center"},"Editing: ",e.thread.name)),o.a.createElement(E.a.Body,null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"ec-name"},"Name"),o.a.createElement(p.a,{type:"text",name:"name",id:"ec-name",className:"form-control",required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"ec-description"},"Description"),o.a.createElement(p.a,{name:"description",id:"ec-description",className:"form-control",required:!0,rows:"4",component:"textarea"}))),o.a.createElement(E.a.Footer,null,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.viewThread(e.thread.id)}},"Cancel"),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save changes")))))}),me=function(e){return o.a.createElement("button",{className:"list-group-item list-group-item-action py-2 border-bottom rounded-0  d-flex align-items-center justify-content-between",onClick:function(){return e.viewThread(e.thread.id)}},o.a.createElement("span",{className:"font-weight-bold"},e.thread.name))},be={removeThread:re},ue=Object(i.b)(null,be)(function(e){return o.a.createElement(E.a,{onHide:e.onHide,show:e.show},o.a.createElement(E.a.Header,{closeButton:!0},o.a.createElement(E.a.Title,{as:"h5",className:"d-flex align-items-center"},"Thread: ",e.thread.name)),o.a.createElement(E.a.Body,{className:"py-4"},e.thread.description),o.a.createElement(E.a.Footer,null,o.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.removeThread(e.thread.id),e.onHide&&e.onHide()}},"Delete"),o.a.createElement("button",{className:"btn btn-secondary",onClick:function(){e.editThread(e.thread.id)}},"Edit")))}),de={editThread:ne,selectThread:oe},pe=Object(i.b)(function(e){return{selectedThread:e.threads.selectedThread,threads:e.threads.threads}},de)(function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!1),i=Object(d.a)(l,2),s=i[0],m=i[1],b=function(t){e.selectThread(t),m(!1),c(!0)},u=e.threads.map(function(e){return o.a.createElement(me,{key:e.id,thread:e,viewThread:b})});return o.a.createElement(o.a.Fragment,null,e.selectedThread&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ue,{thread:e.selectedThread,onHide:function(){return c(!1)},show:r,editThread:function(t){e.selectThread(t),c(!1),m(!0)}}),o.a.createElement(se,{thread:e.selectedThread,show:s,viewThread:b})),o.a.createElement("ul",{className:"list-group list-group-flush"},u))}),he=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1];return o.a.createElement("section",{className:"card h-100"},o.a.createElement(le,{show:a,onHide:function(){return r(!1)}}),o.a.createElement("header",{className:"card-header font-weight-bold d-flex align-items-center justify-content-between"},"Threads",o.a.createElement("a",{href:"#",className:"fas fa-plus text-decoration-none",onClick:function(){return r(!0)}})),o.a.createElement(pe,null))},Pe=a(121),fe={postLog:I},Ee=Object(i.b)(function(e){return{chaosFactor:e.chaos}},fe)(function(e){var t=Object(n.useState)(H.FiftyFifty.valueOf()),a=Object(d.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(q.get("".concat(H.FiftyFifty,"-").concat(e.chaosFactor))),s=Object(d.a)(i,2),m=s[0],b=s[1];return Object(n.useEffect)(function(){if(H[c]){var t=q.get("".concat(c,"-").concat(e.chaosFactor));t&&b(t)}}),o.a.createElement("section",{className:"h-100 w-50 border-right overflow-auto"},o.a.createElement("div",{className:"row mx-2 my-2"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement("div",{className:"form-group mb-2"},o.a.createElement("label",{htmlFor:"fate-odds"},"Odds"),o.a.createElement("select",{className:"custom-select custom-select-sm",id:"fate-odds",onChange:function(e){var t=e.target;l(Number(t.value))},value:c},o.a.createElement("option",{value:H.Impossible},"Impossible"),o.a.createElement("option",{value:H.NoWay},"No way"),o.a.createElement("option",{value:H.VeryUnlikely},"Very unlikely"),o.a.createElement("option",{value:H.Unlikely},"Unlikely"),o.a.createElement("option",{value:H.FiftyFifty},"50/50"),o.a.createElement("option",{value:H.SomewhatLikely},"Somewhat likely"),o.a.createElement("option",{value:H.Likely},"Likely"),o.a.createElement("option",{value:H.VeryLikely},"Very likely"),o.a.createElement("option",{value:H.NearSureThing},"Near sure thing"),o.a.createElement("option",{value:H.ASureThing},"A sure thing"),o.a.createElement("option",{value:H.HasToBe},"Has to be"))),o.a.createElement("div",{className:"form-group mb-0"},o.a.createElement("label",{className:"mb-0"},"Probability"),m&&o.a.createElement(o.a.Fragment,null,o.a.createElement("small",{className:"d-block"},"Success chance: ",function(e){var t=e<0?0:e>100?100:e;return t<=30?o.a.createElement("strong",{className:"text-danger"},t,"%"):t>=70?o.a.createElement("strong",{className:"text-success"},t,"%"):o.a.createElement("strong",null,t,"%")}(m.Prob)),o.a.createElement("small",{className:"d-block"},"Ranges: ",o.a.createElement("span",{className:"text-success"},m.UpProb)," \u2013",o.a.createElement("span",{className:"text-muted"}," ",m.Prob)," \u2013"," ",o.a.createElement("span",{className:"text-danger"},m.LoProb))))),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(p.c,{onSubmit:function(t,a){if(a.resetForm(),m){var n=Math.floor(99*Math.random())+1,o={answer:n<=m.Prob,chaosFactor:e.chaosFactor,exceptional:n<=m.UpProb||n>=m.LoProb,exceptionalContent:"",id:Object(y.generate)(),odds:c,probability:m,question:t.question,roll:n,sent_at:Date.now(),type:r.FateResult};e.postLog(o)}},initialValues:{question:""}},o.a.createElement(p.b,null,o.a.createElement("div",{className:"form-group mb-2"},o.a.createElement("label",null,"Fate Question"),o.a.createElement("div",{className:"input-group"},o.a.createElement(p.a,{name:"question",type:"text",className:"form-control form-control-sm font-italic",placeholder:"Ask a question\u2026"}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-sm btn-primary"},"Ask")))))),o.a.createElement(p.c,{onSubmit:function(t,a){a.resetForm();var n=(new Pe.Dice).roll(t.roll);if(!n.errors.length){var o={description:"",diceString:t.roll,id:Object(y.generate)(),roll:n.total,sent_at:Date.now(),type:r.DiceResult};e.postLog(o)}},initialValues:{roll:""}},o.a.createElement(p.b,null,o.a.createElement("div",{className:"form-group mb-0"},o.a.createElement("label",null,"Dice Roll"),o.a.createElement("div",{className:"input-group"},o.a.createElement(p.a,{name:"roll",type:"text",className:"form-control form-control-sm text-monospace",placeholder:"Enter a dice string\u2026"}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-sm btn-primary"},"Roll")))))))))}),ye=function(){return o.a.createElement("header",{className:"d-flex h-100 flex-column justify-content-center align-items-center w-25 border-right p-4"},o.a.createElement("h1",{className:"h2 text-muted"},"Prophet"),o.a.createElement("h2",{className:"h6 text-muted"},"Made by"," ",o.a.createElement("a",{href:"https://github.com/Fraedon",target:"_blank",rel:"noopener noreferrer"},"@Fraedon")))},ge=a(279),Ne=Object(i.b)(function(e){return{state:e}})(function(e){var t=Object(n.useState)("My adventure"),a=Object(d.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)([]),i=Object(d.a)(l,2),s=i[0],m=i[1];Object(n.useEffect)(function(){var e=Object.entries(localStorage).map(function(e){return e[0]});m(e)});var b=s.map(function(e){return o.a.createElement(ge.a.Item,{className:"d-flex align-items-center",key:e,eventKey:e},o.a.createElement("i",{className:"fas fa-save mr-2"}),e)});return o.a.createElement("section",{className:"h-100 w-25 text-center d-flex flex-column justify-content-center align-items-center overflow-auto"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Save and Load"),o.a.createElement("input",{type:"text",className:"form-control form-control-sm",placeholder:"Enter save name\u2026",value:r,onChange:function(e){c(e.target.value)}})),o.a.createElement("div",{className:"btn-toolbar"},o.a.createElement("button",{className:"btn btn-primary btn-sm mr-2 h-100",onClick:function(){return function(){if(r.trim()){var t=e.state;localStorage.setItem(r,JSON.stringify(t))}}()}},"Save"),o.a.createElement(ge.a,{onSelect:function(e){sessionStorage.setItem("load",e),window.location.reload()}},o.a.createElement(ge.a.Toggle,{id:"load-name",size:"sm",variant:"secondary",className:"mr-2"},"Load"),o.a.createElement(ge.a.Menu,null,b)),o.a.createElement("button",{className:"btn btn-danger btn-sm h-100",onClick:function(){localStorage.removeItem(r)}},"Delete")))}),Le=function(){return o.a.createElement("div",{className:"card card-body h-100 p-0 flex-row"},o.a.createElement(ye,null),o.a.createElement(Ee,null),o.a.createElement(Ne,null))};a(273),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ve=a(32),Ue=a(122),ke=Object(s.createReducer)(5).handleAction("@chaos/SET",function(e,t){return t.payload}),Oe=a(34),je={characters:[],selectedCharacter:void 0},we=Object(s.createReducer)(je).handleAction("@characters/ADD",function(e,t){return Object(A.a)({},e,{characters:[].concat(Object(Oe.a)(e.characters),[t.payload])})}).handleAction("@characters/REMOVE",function(e,t){return Object(A.a)({},e,{characters:e.characters.filter(function(e){return e.id!==t.payload})})}).handleAction("@characters/EDIT",function(e,t){return Object(A.a)({},e,{characters:e.characters.map(function(e){return e.id===t.payload.id?Object.assign({},e,t.payload.data):e})})}).handleAction("@characters/CLEAR",function(e){return Object(A.a)({},e,{characters:[]})}).handleAction("@characters/SELECT",function(e,t){var a=e.characters.find(function(e){return e.id===t.payload});return Object(A.a)({},e,{selectedCharacter:a})}),Se=Object(s.createReducer)({inputMode:{characterId:"",type:"narration"},items:[]}).handleAction(I,function(e,t){return Object(A.a)({},e,{items:[].concat(Object(Oe.a)(e.items),[t.payload])})}).handleAction(V,function(e,t){return Object(A.a)({},e,{items:e.items.filter(function(e){return e.id!==t.payload})})}).handleAction(D,function(e){return Object(A.a)({},e,{items:[]})}).handleAction(R,function(e,t){return Object(A.a)({},e,{inputMode:t.payload})}).handleAction(M,function(e,t){return Object(A.a)({},e,{items:e.items.map(function(e){return e.id===t.payload.id?t.payload.item:e})})}),Te={selectedThread:void 0,threads:[]},Ce=Object(s.createReducer)(Te).handleAction("@threads/ADD",function(e,t){return Object(A.a)({},e,{threads:[].concat(Object(Oe.a)(e.threads),[t.payload])})}).handleAction("@threads/REMOVE",function(e,t){return Object(A.a)({},e,{threads:e.threads.filter(function(e){return e.id!==t.payload})})}).handleAction("@threads/EDIT",function(e,t){return Object(A.a)({},e,{threads:e.threads.map(function(e){return e.id===t.payload.id?Object.assign({},e,t.payload.data):e})})}).handleAction("@threads/CLEAR",function(e){return Object(A.a)({},e,{threads:[]})}).handleAction("@threads/SELECT",function(e,t){var a=e.threads.find(function(e){return e.id===t.payload});return Object(A.a)({},e,{selectedThread:a})}),xe=Object(ve.combineReducers)({chaos:ke,characters:we,log:Se,threads:Ce}),Fe={};if(sessionStorage.getItem("load")){var Ae=localStorage.getItem(sessionStorage.getItem("load"));Ae&&(Fe=JSON.parse(Ae))}var He=Object(ve.createStore)(xe,Fe,Object(Ue.devToolsEnhancer)({}));l.a.render(o.a.createElement(i.a,{store:He},o.a.createElement(function(){return o.a.createElement("main",{className:"container py-3"},o.a.createElement("div",{className:"row h-75"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement(te,null)),o.a.createElement("div",{className:"col-md-6 d-flex flex-column"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col w-100"},o.a.createElement(u,null))),o.a.createElement("div",{className:"row mt-3 flex-grow-1"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement(F,null)),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(he,null))))),o.a.createElement("div",{className:"row h-25 py-3"},o.a.createElement("div",{className:"col-md-12 h-100"},o.a.createElement(Le,null))))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[123,1,2]]]);
//# sourceMappingURL=main.4b3e9542.chunk.js.map